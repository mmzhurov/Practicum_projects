**ПРОЕКТ: Оптимизация производственных расходов металлургического комбината**

**Описание проекта:**

Чтобы оптимизировать производственные расходы, металлургический комбинат «Стальная птица» решил уменьшить потребление электроэнергии на этапе обработки стали. Для этого комбинату нужно **контролировать температуру сплава**. Ваша задача — построить модель, которая будет её предсказывать **(целевой признак - температура сплава)**. 
Заказчик хочет использовать разработанную модель для имитации технологического процесса.

**Описание этапа обработки:**

Сталь обрабатывают **в металлическом ковше вместимостью около 100 тонн**. Чтобы ковш выдерживал высокие температуры, изнутри его облицовывают огнеупорным кирпичом. Расплавленную сталь заливают в ковш и **подогревают до нужной температуры графитовыми электродами**. Они установлены в крышке ковша. 
Из сплава выводится сера (этот процесс — десульфурация), добавлением примесей корректируется химический состав и отбираются пробы. Сталь легируют — изменяют её состав — подавая куски сплава из бункера для сыпучих материалов или проволоку через специальный трайб-аппарат (от англ. tribe — «масса»).
Перед тем как первый раз ввести легирующие добавки, **измеряют температуру стали** и производят её химический анализ. Потом температуру на несколько минут повышают, добавляют легирующие материалы и продувают сплав инертным газом. Затем его перемешивают и **снова проводят измерения**. Такой **цикл повторяется** до достижения целевого химического состава и оптимальной температуры плавки.
Тогда расплавленная сталь отправляется на доводку металла или поступает в машину непрерывной разливки. Оттуда готовый продукт выходит в виде заготовок-слябов (от англ. slab — «плита»).

**Описание данных:**
Данные состоят из нескольких файлов, полученных из разных источников:
- `data_arc_new.csv` — данные об электродах:
    - `key` — номер партии;
    - `Начало нагрева дугой` — время начала нагрева;
    - `Конец нагрева дугой` — время окончания нагрева;
    - `Активная мощность` — значение активной мощности;
    - `Реактивная мощность` — значение реактивной мощности;
    
- `data_bulk_new.csv` — данные о подаче сыпучих материалов (объём):
    - `key` — номер партии;
    - `Bulk 1 … Bulk 15` — объём подаваемого материала;

- `data_bulk_time_new.csv` — данные о подаче сыпучих материалов (время):
    - `key` — номер партии;
    - `Bulk 1 … Bulk 15` — время подачи материала;

- `data_gas_new.csv` — данные о продувке сплава газом:
    - `key` — номер партии;
    - `Газ 1` — объём подаваемого газа;

- `data_temp_new.csv` — результаты измерения температуры:
    - `key` — номер партии;
    - `Время замера` — время замера;
    - `Температура` — значение температуры;

- `data_wire_new.csv` — данные о проволочных материалах (объём):
    - `key` — номер партии;
    - `Wire 1 … Wire 9` — объём подаваемых проволочных материалов;

- `data_wire_time_new.csv` — данные о проволочных материалах (время):
    - `key` — номер партии;
    - `Wire 1 … Wire 9` — время подачи проволочных материалов.
    
Во всех файлах столбец key содержит номер партии. В файлах может быть несколько строк с одинаковым значением key: они соответствуют разным итерациям обработки.

**Общие выводы:**

**Ответы на вопросы:**
1. Какие пункты плана были выполнены, а какие — нет (поясните, почему)? Все пункты плана были выполнены. Полученного на курсе и самостоятельно объема знаний было для этого достаточно.

2. Какие трудности возникли и как вы их преодолели? Много времени потратил на корректное извлечение из таблицы с результатами измерения температуры начальной и конечной температуры ковша. Решить данную задачу помогло повторение ранее пройденных на курсе тем.

3. Какие ключевые шаги в решении задачи выделили? Укрупненно: беглое изучение производственного процесса, формирование, отбор и подготовка признаков, обучение моделей, оценка качества лучшей модели и вклада признаков на которых она обучена в результат.

**Для обучения лучшей модели использовали 9 числовых признаков:**
- продолжительность_нагрева, bulk_3, bulk_4, bulk_6, bulk_12, bulk_other, газ_1, температура_старт, wire_1.

**Для их отбора была проведена следующая работа:**
1. Данные об электродах:
- исправили ошибку в одном значении реактивной мощности;
- рассчитали признаки полная мощность и продолжительность нагрева, лишние столбцы удалили;
- разные итерациии обработки объединили по столбцу `key` в ковши.
2. Данные о подаче сыпучих материалов:
- данные о подаваемых редко сыпучих материалах объединили в один признак (15 признаков сокращены до 7).
3. Данные о продувке сплава газом:
- данные корректны, изменения не вносили.
4. Результаты измерения температуры:
- сформировали таблицу со стартовой температурой и температурой готового продукта (целевой признак) в разрезе ковшей;
- удалили ковши с отсутствующими данными о температуре готового продукта, их доля существенна - 23%;
- удалили ковши со стартовой температурой менее 1400 градусов (4 значения).
5. Данные о проволочных материалах:
- данные о подаваемых редко проволочных материалах объединили в один признак (9 признаков сокращены до 3).
6. Объединение данных:
- сформировали из 5 таблиц общую таблицу признаков;
- для устранения мультиколлениарности удалили 5 признаков.

**Лучшая модель:** CatBoostRegressor

**Гиперпараметры лучшей модели:** iterations= 204, depth= 5, learning_rate= 0.08, random_state= 020824

**Рекомендации для улучшения модели:**
1. Попробовать обучить модели на 2 основных признаках продолжительность нагрева и начальная температура ковша, возможно, простота сократит затраты и улучшит точность предсказания.
2. Для увеличения количества используемых для обучения данных предоставить отсутствующие данные о выходной температуре (доля от входных данных 23%).
3. Глубже проанализировать процесс и имеющиеся о нем на предприятии данные, возможно, дополнительные данные улучшат алгоритмы обучения моделей.
4. Глубже проанализировать исключенные признаки, возможно, добавить их в обучение моделей.
